!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.dragula=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){(function(n){"use strict";function s(e,t){function T(e){return function(n){function i(t){o(t,e,"mousedown",k)}function s(e){return r.indexOf(e)===-1}var r=Array.isArray(n)?n:[n];r.forEach(i),e==="add"?E=E.concat(r):E=E.filter(s)}}function N(e){var t=e?"remove":"add";o(i,t,"mouseup",M)}function C(){N(!0),x.removeContainer(E),M({})}function k(e){var t=e.target;if(e.which!==0&&e.which!==1||e.metaKey||e.ctrlKey)return;if(L(t)!==!0)return;var n=u(v);m=d("pageX",e)-n.left,g=d("pageY",e)-n.top,I(),F(e),e.preventDefault()}function L(e){var t=e;if(x.dragging&&s)return;if(E.indexOf(e)!==-1)return;while(E.indexOf(e.parentElement)===-1){if(A(e))return;e=e.parentElement}if(A(e))return;var n=e.parentElement,r=S.moves(e,n,t);if(!r)return;return O(),S.copy?(w=e.cloneNode(!0),h(w,"gu-transit")):h(e,"gu-transit"),a=n,v=e,y=b=c(e),x.dragging=!0,x.emit("drag",v,a),!0}function A(e){return e.tagName==="A"||e.tagName==="BUTTON"}function O(){if(!x.dragging)return;var e=w||v;_(e,e.parentElement)}function M(e){if(!x.dragging)return;var t=w||v,n=d("clientX",e),r=d("clientY",e),i=f(s,n,r),o=j(i,n,r);!o||S.copy!==!1&&o===a?S.removeOnSpill?D():P():_(t,o)}function _(e,t){B(t)?x.emit("cancel",e,a):x.emit("drop",e,t,a),H()}function D(){if(!x.dragging)return;var e=w||v,t=e.parentElement;t&&t.removeChild(e),x.emit(S.copy?"cancel":"remove",e,t),H()}function P(e){if(!x.dragging)return;var t=arguments.length>0?e:S.revertOnSpill,n=w||v,r=n.parentElement;r===a&&S.copy&&r.removeChild(w);var i=B(r);i===!1&&S.copy===!1&&t&&a.insertBefore(n,y),i||t?x.emit("cancel",n,a):x.emit("drop",n,r,a),H()}function H(){var e=w||v;q(),p(e,"gu-transit"),a=v=w=y=b=null,x.dragging=!1,x.emit("dragend",e)}function B(e,t){var n;return t!==void 0?n=t:s?n=b:n=c(v||w),e===a&&n===y}function j(e,t,n){function i(){var i=E.indexOf(r)!==-1;if(i===!1)return!1;var s=R(r,e),o=U(r,s,t,n),u=B(r,o);return u?!0:S.accepts(v,r,a,o)}var r=e;while(r&&!i())r=r.parentElement;return r}function F(e){if(!s)return;var t=d("clientX",e),n=d("clientY",e),r=t-m,i=n-g;s.style.left=r+"px",s.style.top=i+"px";var o=f(s,t,n),u=j(o,t,n);if(u===a&&S.copy)return;var l=w||v,h=R(u,o);if(h===null)return;var p=U(u,h,t,n);if(p===null||p!==l&&p!==c(l))b=p,u.insertBefore(l,p),x.emit("shadow",l,u)}function I(){if(s)return;var e=v.getBoundingClientRect();s=v.cloneNode(!0),s.style.width=e.width+"px",s.style.height=e.height+"px",p(s,"gu-transit"),h(s," gu-mirror"),n.appendChild(s),o(i,"add","mousemove",F),h(n,"gu-unselectable")}function q(){s&&(p(n,"gu-unselectable"),o(i,"remove","mousemove",F),s.parentElement.removeChild(s),s=null)}function R(e,t){var n=t;while(n!==e&&n.parentElement!==e)n=n.parentElement;return n===i?null:n}function U(e,t,n,r){function o(){var t=e.children.length,s,o,u;for(s=0;s<t;s++){o=e.children[s],u=o.getBoundingClientRect();if(i&&u.left>n)return o;if(!i&&u.top>r)return o}return null}function u(){var e=t.getBoundingClientRect();return i?a(n>e.left+e.width/2):a(r>e.top+e.height/2)}function a(e){return e?c(t):t}var i=S.direction==="horizontal",s=t!==e?u():o();return s}var n=document.body,i=document.documentElement,s,a,v,m,g,y,b,w,E=[],S=t||{};S.moves===void 0&&(S.moves=l),S.accepts===void 0&&(S.accepts=l),S.copy===void 0&&(S.copy=!1),S.revertOnSpill===void 0&&(S.revertOnSpill=!1),S.removeOnSpill===void 0&&(S.removeOnSpill=!1),S.direction===void 0&&(S.direction="vertical");var x=r({addContainer:T("add"),removeContainer:T("remove"),start:L,end:O,cancel:P,remove:D,destroy:C,dragging:!1});return N(),x.addContainer(e),x}function o(e,t,r,s){var o={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},u={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};n.navigator.msPointerEnabled&&i[t](e,u[r],s),i[t](e,o[r],s),i[t](e,r,s)}function u(e){var t=e.getBoundingClientRect();return{left:t.left+a("scrollLeft","pageXOffset"),top:t.top+a("scrollTop","pageYOffset")}}function a(e,t){if(typeof n[t]!="undefined")return n[t];var r=document.documentElement;if(r.clientHeight)return r[e];var i=document.body;return i[e]}function f(e,t,n){if(!t&&!n)return null;var r=e||{},i=r.className,s;return r.className+=" gu-hide",s=document.elementFromPoint(t,n),r.className=i,s}function l(){return!0}function c(e){function t(){var t=e;do t=t.nextSibling;while(t&&t.nodeType!==1);return t}return e.nextElementSibling||t()}function h(e,t){e.className.indexOf(" "+t)===-1&&(e.className+=" "+t)}function p(e,t){try{e.className=e.className.replace(new RegExp(" "+t,"g"),"")}catch(n){}}function d(e,t){return typeof t.targetTouches=="undefined"?t[e]:t.targetTouches&&t.targetTouches.length&&t.targetTouches[0][e]||0}var r=e("contra.emitter"),i=e("crossvent");t.exports=s}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"contra.emitter":3,crossvent:5}],2:[function(e,t,n){function o(){if(s)return;s=!0;var e,t=i.length;while(t){e=i,i=[];var n=-1;while(++n<t)e[n]();t=i.length}s=!1}function u(){}var r=t.exports={},i=[],s=!1;r.nextTick=function(e){i.push(e),s||setTimeout(o,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=u,r.addListener=u,r.once=u,r.off=u,r.removeListener=u,r.removeAllListeners=u,r.emit=u,r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],3:[function(e,t,n){t.exports=e("./src/contra.emitter.js")},{"./src/contra.emitter.js":4}],4:[function(e,t,n){(function(e){(function(n,r){"use strict";function s(e,t){return Array.prototype.slice.call(e,t)}function o(e,t,n){if(!e)return;a(function(){e.apply(n||null,t||[])})}function f(e,t){var n=t||{},i={};return e===r&&(e={}),e.on=function(t,n){return i[t]?i[t].push(n):i[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var r=arguments.length;if(r===1)delete i[t];else if(r===0)i={};else{var s=i[t];if(!s)return e;s.splice(s.indexOf(n),1)}return e},e.emit=function(){var t=s(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var r=(i[t]||[]).slice(0);return function(){var u=s(arguments),a=this||e;if(t==="error"&&n.throws!==!1&&!r.length)throw u.length===1?u[0]:u;return i[t]=r.filter(function(t){return n.async?o(t,u,a):t.apply(a,u),!t._once}),e}},e}var i=""+r,u=typeof setImmediate=="function",a;u?a=function(e){setImmediate(e)}:typeof e!==i&&e.nextTick?a=e.nextTick:a=function(e){setTimeout(e,0)},typeof t!==i&&t.exports?t.exports=f:(n.contra=n.contra||{},n.contra.emitter=f)})(this)}).call(this,e("_process"))},{_process:2}],5:[function(e,t,n){(function(e){"use strict";function o(e,t,n,r){return e.addEventListener(t,n,r)}function u(e,t,n){return e.attachEvent("on"+t,h(e,t,n))}function a(e,t,n,r){return e.removeEventListener(t,n,r)}function f(e,t,n){return e.detachEvent("on"+t,p(e,t,n))}function l(e,t){var r;n.createEvent?(r=n.createEvent("Event"),r.initEvent(t,!0,!0),e.dispatchEvent(r)):n.createEventObject&&(r=n.createEventObject(),e.fireEvent("on"+t,r))}function c(t,n,r){return function(i){var s=i||e.event;s.target=s.target||s.srcElement,s.preventDefault=s.preventDefault||function(){s.returnValue=!1},s.stopPropagation=s.stopPropagation||function(){s.cancelBubble=!0},r.call(t,s)}}function h(e,t,n){var r=p(e,t,n)||c(e,t,n);return s.push({wrapper:r,element:e,type:t,fn:n}),r}function p(e,t,n){var r=d(e,t,n);if(r){var i=s[r].wrapper;return s.splice(r,1),i}}function d(e,t,n){var r,i;for(r=0;r<s.length;r++){i=s[r];if(i.element===e&&i.type===t&&i.fn===n)return r}}var n=document,r=o,i=a,s=[];e.addEventListener||(r=u,i=f),t.exports={add:r,remove:i,fabricate:l}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)});